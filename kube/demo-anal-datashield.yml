apiVersion: v1
kind: Pod
metadata:
  name: demo-anal-datashield
  labels:
    app: anal-datashield
spec:
  containers:
  - name: activemq
    image: quay.io/artemiscloud/activemq-artemis-broker-kubernetes:latest
    ports:
      - containerPort: 5672
        hostPort: 6072
    env:
      - name: AMQ_USER
        value: "admin"
      - name: AMQ_PASSWORD
        value: "password"
  - name: anal-datashield-adaptor
    image: docker.io/risbic/anal-datashield-adaptor:test
  - name: armadillo
    image: docker.io/risbic/anal-datashield-armadillo:test
    ports:
      - containerPort: 8080
        hostPort: 8100
    env:
      - name: DEBUG
        value: "FALSE"
    volumeMounts:
      - mountPath: /data
        name: anal-datashield-armadillo
  - name: trefx-rserver
    image: docker.io/datashield/armadillo-rserver_ionic-aqueduct:1.0.0
    env:
      - name: DEBUG
        value: "FALSE"
  volumes:
    - name: anal-datashield-armadillo
      hostPath:
        path: ./anal-data/datashield/armadillo
        type: DirectoryOrCreate
